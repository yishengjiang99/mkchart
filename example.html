<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>chart</title>
	<style>
		main {
			display: grid;
			grid-template-columns: 1fr 1fr;
		}

		canvas {
			grid-area: span;
		}

	</style>
</head>
<body>
	<h2>fps estimate</h2>
	<canvas></canvas>
	<script type='module'>

		import {chart, mkcanvas, resetCanvas} from './chart.js';
		const canvas = mkcanvas();
		const arr = new Float64Array(255).fill(0);
		let i = 0;
		function update() {
			let t = performance.now();


			arr[i++ & 0xff] = t - Math.floor(t);
			chart(canvas, arr)
			requestAnimationFrame(update);

		}
		setTimeout(update, 50);


	</script>
</body>
</html>
